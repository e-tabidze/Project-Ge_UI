{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useEffect, useRef } from \"react\";\nimport jwtDecode from \"jwt-decode\";\n\nconst useCurrentUser = () => {\n  _s();\n\n  const [currentUser, setCurrentUser] = useState(null);\n  const currentUserRef = useRef(null);\n  const existingJWT = localStorage.getItem(\"token\");\n\n  const getCurrentUser = jwt => {\n    try {\n      let currentUserData = jwtDecode(jwt ? jwt : existingJWT);\n      setCurrentUser(currentUserData);\n      currentUserRef.current = currentUserData;\n    } catch (ex) {}\n  };\n\n  useEffect(() => {\n    getCurrentUser();\n    return () => {\n      setCurrentUser(null);\n    };\n  }, []);\n  return {\n    currentUser,\n    setCurrentUser,\n    getCurrentUser,\n    existingJWT,\n    currentUserRef\n  };\n};\n\n_s(useCurrentUser, \"yvzogNncyuc8ymXNF8FNnbttAQQ=\");\n\nexport default useCurrentUser;","map":{"version":3,"sources":["/home/e_tabidze/Documents/Project-Ge/project-ge-ui/src/Helpers/useCurrentUser.js"],"names":["useState","useEffect","useRef","jwtDecode","useCurrentUser","currentUser","setCurrentUser","currentUserRef","existingJWT","localStorage","getItem","getCurrentUser","jwt","currentUserData","current","ex"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,SAAnB,EAA8BC,MAA9B,QAA4C,OAA5C;AACA,OAAOC,SAAP,MAAsB,YAAtB;;AAEA,MAAMC,cAAc,GAAG,MAAM;AAAA;;AAC3B,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCN,QAAQ,CAAC,IAAD,CAA9C;AACA,QAAMO,cAAc,GAAGL,MAAM,CAAC,IAAD,CAA7B;AACA,QAAMM,WAAW,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAApB;;AAEA,QAAMC,cAAc,GAAIC,GAAD,IAAS;AAC9B,QAAI;AACF,UAAIC,eAAe,GAAGV,SAAS,CAACS,GAAG,GAAGA,GAAH,GAASJ,WAAb,CAA/B;AACAF,MAAAA,cAAc,CAACO,eAAD,CAAd;AACAN,MAAAA,cAAc,CAACO,OAAf,GAAyBD,eAAzB;AACD,KAJD,CAIE,OAAOE,EAAP,EAAW,CAAE;AAChB,GAND;;AAQAd,EAAAA,SAAS,CAAC,MAAM;AACdU,IAAAA,cAAc;AACd,WAAO,MAAM;AACXL,MAAAA,cAAc,CAAC,IAAD,CAAd;AACD,KAFD;AAGD,GALQ,EAKN,EALM,CAAT;AAOA,SAAO;AAAED,IAAAA,WAAF;AAAeC,IAAAA,cAAf;AAA+BK,IAAAA,cAA/B;AAA+CH,IAAAA,WAA/C;AAA4DD,IAAAA;AAA5D,GAAP;AACD,CArBD;;GAAMH,c;;AAuBN,eAAeA,cAAf","sourcesContent":["import { useState, useEffect, useRef } from \"react\";\nimport jwtDecode from \"jwt-decode\";\n\nconst useCurrentUser = () => {\n  const [currentUser, setCurrentUser] = useState(null);\n  const currentUserRef = useRef(null);\n  const existingJWT = localStorage.getItem(\"token\");\n\n  const getCurrentUser = (jwt) => {\n    try {\n      let currentUserData = jwtDecode(jwt ? jwt : existingJWT);\n      setCurrentUser(currentUserData);\n      currentUserRef.current = currentUserData;\n    } catch (ex) {}\n  };\n\n  useEffect(() => {\n    getCurrentUser();\n    return () => {\n      setCurrentUser(null);\n    };\n  }, []);\n\n  return { currentUser, setCurrentUser, getCurrentUser, existingJWT, currentUserRef };\n};\n\nexport default useCurrentUser;\n"]},"metadata":{},"sourceType":"module"}