{"ast":null,"code":"var _jsxFileName = \"/home/e_tabidze/Documents/Project-Ge/project-ge-ui/src/Components/ProductModal/ProductModal.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { editJewel, postJewels } from \"../../Services/ApiEndpoints\";\nimport useCurrentUser from \"../../Helpers/useCurrentUser\";\nimport useUserJewels from \"../../Helpers/useUserJewels\";\nimport useMetals from \"../../Helpers/useMetals\";\nimport usePieces from \"../../Helpers/usePieces\";\nimport useStones from \"../../Helpers/useStones\";\nimport goldStandards from \"../../Data/goldStandards.json\";\nimport silverStandards from \"../../Data/silverStandards.json\";\nimport { useForm, Controller } from \"react-hook-form\";\nimport { TextField, Select, MenuItem, Dialog, DialogTitle, DialogActions, Button, InputLabel } from \"@material-ui/core\";\nimport classes from \"./styles.module.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst ProductModal = _ref => {\n  _s();\n\n  var _productObject$existi;\n\n  let {\n    modalType,\n    product,\n    productModalActive,\n    productModalToggle\n  } = _ref;\n  const {\n    existingJWT\n  } = useCurrentUser();\n  const {\n    metals\n  } = useMetals();\n  const {\n    pieces\n  } = usePieces();\n  const {\n    stones\n  } = useStones();\n  const {\n    setUserJewels\n  } = useUserJewels();\n  const [productObject, setProductObject] = useState({\n    name: (product === null || product === void 0 ? void 0 : product.name) || \"\",\n    piece: (product === null || product === void 0 ? void 0 : product.piece._id) || \"\",\n    metal: (product === null || product === void 0 ? void 0 : product.metal._id) || \"\",\n    standard: (product === null || product === void 0 ? void 0 : product.standard) || \"\",\n    size: (product === null || product === void 0 ? void 0 : product.size) || \"\",\n    weight: (product === null || product === void 0 ? void 0 : product.weight) || \"\",\n    stone: (product === null || product === void 0 ? void 0 : product.stone._id) || \"\",\n    price: (product === null || product === void 0 ? void 0 : product.price) || \"\",\n    contactPerson: (product === null || product === void 0 ? void 0 : product.contactPerson) || \"\",\n    contactNumber: (product === null || product === void 0 ? void 0 : product.contactNumber) || \"\",\n    description: (product === null || product === void 0 ? void 0 : product.description) || \"\",\n    productImage: {},\n    existingImages: (product === null || product === void 0 ? void 0 : product.productImage) || null\n  });\n  const {\n    register,\n    formState: {\n      errors\n    },\n    handleSubmit,\n    watch,\n    control\n  } = useForm({\n    defaultValues: {\n      name: productObject.name,\n      piece: productObject.piece,\n      metal: productObject.metal,\n      standard: productObject.standard,\n      size: productObject.size,\n      weight: productObject.weight,\n      stone: productObject.stone,\n      price: productObject.price,\n      contactPerson: productObject.contactPerson,\n      contactNumber: productObject.contactNumber,\n      productImage: \"\",\n      existingImages: productObject.existingImages,\n      description: productObject.description\n    }\n  });\n  useEffect(() => {\n    const subscription = watch(value => {\n      console.log(value);\n      return value;\n    });\n    return () => subscription.unsubscribe();\n  }, [watch]);\n\n  const objectToFormData = obj => {\n    let fd = new FormData();\n\n    for (let item in obj) {\n      if (item === \"productImage\") {\n        for (const key of Object.keys(obj[item])) {\n          fd.append(item, obj[item][key]);\n        }\n      } else {\n        fd.append(item, obj[item]);\n      }\n    }\n\n    return fd;\n  };\n\n  const onSubmit = productObject => {\n    try {\n      let jewelFormData = objectToFormData(productObject);\n      console.log(productObject, \"productObject\");\n\n      switch (modalType) {\n        case \"add\":\n          postJewels(jewelFormData, existingJWT);\n          setUserJewels();\n          productModalToggle();\n          break;\n\n        case \"edit\":\n          editJewel(jewelFormData, product._id, existingJWT);\n          break;\n      }\n    } catch (ex) {}\n  };\n\n  const handleDeleteImage = (imgUrl, e) => {\n    e.preventDefault();\n    let test = productObject.existingImages.filter(image => image !== imgUrl);\n    setProductObject({ ...productObject,\n      [\"existingImages\"]: test\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Dialog, {\n    open: productModalActive,\n    onClose: productModalToggle,\n    children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n      style: {\n        cursor: \"move\"\n      },\n      id: \"draggable-dialog-title\",\n      children: \"\\u10DE\\u10E0\\u10DD\\u10D3\\u10E3\\u10E5\\u10E2\\u10D8:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit(onSubmit),\n      children: [/*#__PURE__*/_jsxDEV(TextField, { ...register(\"name\", {\n          required: true,\n          maxLength: 50\n        }),\n        required: true,\n        fullWidth: true,\n        autoFocus: true,\n        label: \"\\u10D3\\u10D0\\u10E1\\u10D0\\u10EE\\u10D4\\u10DA\\u10D4\\u10D1\\u10D0\",\n        name: \"name\",\n        error: errors.name ? true : false,\n        helperText: errors !== null && errors !== void 0 && errors.name ? /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\u10D2\\u10D7\\u10EE\\u10DD\\u10D5\\u10D7 \\u10E8\\u10D4\\u10D0\\u10D5\\u10E1\\u10DD\\u10D7 \\u10E1\\u10D0\\u10D5\\u10D0\\u10DA\\u10D3\\u10D4\\u10D1\\u10E3\\u10DA\\u10DD \\u10D5\\u10D4\\u10DA\\u10D8 (\\u10DB\\u10D0\\u10E5\\u10E1\\u10D8\\u10DB\\u10E3\\u10DB 50 \\u10E1\\u10D8\\u10DB\\u10D1\\u10DD\\u10DA\\u10DD)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 15\n        }, this) : null,\n        size: \"small\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Controller, {\n        control: control,\n        name: \"piece\",\n        render: _ref2 => {\n          let {\n            field\n          } = _ref2;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.dropdown,\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              required: true,\n              children: \"\\u10DC\\u10D0\\u10D9\\u10D4\\u10D7\\u10DD\\u10D1\\u10D0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              fullWidth: true,\n              ...field,\n              children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                value: \"\",\n                children: \" \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 17\n              }, this), pieces === null || pieces === void 0 ? void 0 : pieces.map(piece => /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: piece._id,\n                children: piece.name\n              }, piece._id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 19\n              }, this)), /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: \"\\u10E1\\u10EE\\u10D5\\u10D0\",\n                children: \"\\u10E1\\u10EE\\u10D5\\u10D0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 13\n          }, this);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this), watch(\"piece\") === \"618be157a4992a8f222f09bf\" && /*#__PURE__*/_jsxDEV(TextField, { ...register(\"size\"),\n        required: true,\n        fullWidth: true,\n        label: \"\\u10D6\\u10DD\\u10DB\\u10D0\",\n        name: \"size\",\n        size: \"small\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(TextField, { ...register(\"weight\"),\n        required: true,\n        fullWidth: true,\n        label: \"\\u10EC\\u10DD\\u10DC\\u10D0\",\n        name: \"weight\",\n        size: \"small\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Controller, {\n        control: control,\n        name: \"metal\",\n        render: _ref3 => {\n          let {\n            field\n          } = _ref3;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.dropdown,\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              required: true,\n              children: \"\\u10DB\\u10D4\\u10E2\\u10D0\\u10DA\\u10D8\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              fullWidth: true,\n              ...field,\n              children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                value: \"\",\n                children: \" \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 17\n              }, this), metals === null || metals === void 0 ? void 0 : metals.map(metal => /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: metal._id,\n                children: metal.name\n              }, metal._id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 19\n              }, this)), /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: \"\\u10E1\\u10EE\\u10D5\\u10D0\",\n                children: \"\\u10E1\\u10EE\\u10D5\\u10D0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 13\n          }, this);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }, this), watch(\"metal\").length > 0 && /*#__PURE__*/_jsxDEV(Controller, {\n        control: control,\n        name: \"standard\",\n        render: _ref4 => {\n          let {\n            field\n          } = _ref4;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.dropdown,\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              required: true,\n              children: \"\\u10E1\\u10D8\\u10DC\\u10EF\\u10D8\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: watch(\"metal\") === \"618bd992a4992a8f222f09bc\" ? /*#__PURE__*/_jsxDEV(Select, {\n                fullWidth: true,\n                ...field,\n                children: goldStandards.map(goldStandard => /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: goldStandard.name,\n                  children: goldStandard.name\n                }, goldStandard.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 214,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(Select, {\n                fullWidth: true,\n                ...field,\n                children: silverStandards.map(silverStandard => /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: silverStandard.name,\n                  children: silverStandard.name\n                }, silverStandard.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 225,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 223,\n                columnNumber: 21\n              }, this)\n            }, void 0, false)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 15\n          }, this);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Controller, {\n        control: control,\n        name: \"stone\",\n        render: _ref5 => {\n          let {\n            field\n          } = _ref5;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.dropdown,\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              required: true,\n              children: \"\\u10E8\\u10D8\\u10D2\\u10D7\\u10D0\\u10D5\\u10E1\\u10D8\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              fullWidth: true,\n              ...field,\n              children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                value: \"\",\n                children: \" \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 17\n              }, this), stones === null || stones === void 0 ? void 0 : stones.map(stone => /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: stone._id,\n                children: stone.name\n              }, stone._id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 250,\n                columnNumber: 19\n              }, this)), /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: \"\\u10E1\\u10EE\\u10D5\\u10D0\",\n                children: \"\\u10E1\\u10EE\\u10D5\\u10D0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 13\n          }, this);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, { ...register(\"price\", {\n          required: true,\n          maxLength: 50\n        }),\n        required: true,\n        fullWidth: true,\n        autoFocus: true,\n        label: \"\\u10E4\\u10D0\\u10E1\\u10D8\",\n        name: \"price\",\n        error: errors.name ? true : false,\n        helperText: errors !== null && errors !== void 0 && errors.price ? /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\u10D2\\u10D7\\u10EE\\u10DD\\u10D5\\u10D7 \\u10E8\\u10D4\\u10D0\\u10D5\\u10E1\\u10DD\\u10D7 \\u10E1\\u10D0\\u10D5\\u10D0\\u10DA\\u10D3\\u10D4\\u10D1\\u10E3\\u10DA\\u10DD \\u10D5\\u10D4\\u10DA\\u10D8 (\\u10DB\\u10D0\\u10E5\\u10E1\\u10D8\\u10DB\\u10E3\\u10DB 50 \\u10E1\\u10D8\\u10DB\\u10D1\\u10DD\\u10DA\\u10DD)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 15\n        }, this) : null,\n        size: \"small\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, { ...register(\"contactPerson\", {\n          required: true,\n          maxLength: 50\n        }),\n        required: true,\n        fullWidth: true,\n        label: \"\\u10E1\\u10D0\\u10D9\\u10DD\\u10DC\\u10E2\\u10D0\\u10E5\\u10E2\\u10DD \\u10DE\\u10D8\\u10E0\\u10D8:\",\n        name: \"contactPerson\",\n        error: errors.contactPerson ? true : false,\n        helperText: errors !== null && errors !== void 0 && errors.contactPerson ? /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\u10D2\\u10D7\\u10EE\\u10DD\\u10D5\\u10D7 \\u10E8\\u10D4\\u10D0\\u10D5\\u10E1\\u10DD\\u10D7 \\u10E1\\u10D0\\u10D5\\u10D0\\u10DA\\u10D3\\u10D4\\u10D1\\u10E3\\u10DA\\u10DD \\u10D5\\u10D4\\u10DA\\u10D8 \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 15\n        }, this) : null,\n        size: \"small\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, { ...register(\"contactNumber\", {\n          required: true,\n          maxLength: 50\n        }),\n        required: true,\n        fullWidth: true,\n        label: \"\\u10E1\\u10D0\\u10D9\\u10DD\\u10DC\\u10E2\\u10D0\\u10E5\\u10E2\\u10DD \\u10DC\\u10DD\\u10DB\\u10D4\\u10E0\\u10D8:\",\n        name: \"contactNumber\",\n        error: errors.contactNumber ? true : false,\n        helperText: errors !== null && errors !== void 0 && errors.contactNumber ? /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\u10D2\\u10D7\\u10EE\\u10DD\\u10D5\\u10D7 \\u10E8\\u10D4\\u10D0\\u10D5\\u10E1\\u10DD\\u10D7 \\u10E1\\u10D0\\u10D5\\u10D0\\u10DA\\u10D3\\u10D4\\u10D1\\u10E3\\u10DA\\u10DD \\u10D5\\u10D4\\u10DA\\u10D8 \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 15\n        }, this) : null,\n        size: \"small\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, { ...register(\"description\", {\n          required: true,\n          maxLength: 50\n        }),\n        style: {\n          marginTop: \"48px\"\n        },\n        required: true,\n        margin: \"normal\",\n        fullWidth: true,\n        multiline: true,\n        maxRows: 4,\n        label: \"\\u10DC\\u10D8\\u10D5\\u10D7\\u10D8\\u10E1 \\u10D0\\u10E6\\u10EC\\u10D4\\u10E0\\u10D0\",\n        name: \"description\",\n        error: errors.description ? true : false,\n        helperText: errors !== null && errors !== void 0 && errors.description ? /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"\\u10D2\\u10D7\\u10EE\\u10DD\\u10D5\\u10D7 \\u10E8\\u10D4\\u10D0\\u10D5\\u10E1\\u10DD\\u10D7 \\u10E1\\u10D0\\u10D5\\u10D0\\u10DA\\u10D3\\u10D4\\u10D1\\u10E3\\u10DA\\u10DD \\u10D5\\u10D4\\u10DA\\u10D8 (\\u10DB\\u10D0\\u10E5\\u10E1\\u10D8\\u10DB\\u10E3\\u10DB 300 \\u10E1\\u10D8\\u10DB\\u10D1\\u10DD\\u10DA\\u10DD)\", \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 15\n        }, this) : null,\n        size: \"small\",\n        variant: \"outlined\",\n        minRows: 4,\n        InputLabelProps: {\n          shrink: true\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"input\", { ...register(\"productImage\"),\n          type: \"file\",\n          name: \"productImage\",\n          accept: \"image/*\",\n          multiple: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.images,\n        style: {\n          overflowX: \"auto\"\n        },\n        children: productObject === null || productObject === void 0 ? void 0 : (_productObject$existi = productObject.existingImages) === null || _productObject$existi === void 0 ? void 0 : _productObject$existi.map((image, index) => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"existingImageItem\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"image\",\n              width: \"200\",\n              height: \"200\",\n              alt: \"Product\",\n              src: `https://ge-gold.herokuapp.com /${image}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: e => handleDeleteImage(image, e),\n              className: \"existingItemDelete\",\n              children: \"X\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 17\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          children: \"\\u10D3\\u10D0\\u10DB\\u10D0\\u10E2\\u10D4\\u10D1\\u10D0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: productModalToggle,\n          children: \"\\u10D2\\u10D0\\u10E3\\u10E5\\u10DB\\u10D4\\u10D1\\u10D0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 124,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ProductModal, \"zg/kH2uBK7gi90GS6c+SmrtNRGc=\", false, function () {\n  return [useCurrentUser, useMetals, usePieces, useStones, useUserJewels, useForm];\n});\n\n_c = ProductModal;\nexport default ProductModal;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductModal\");","map":{"version":3,"sources":["/home/e_tabidze/Documents/Project-Ge/project-ge-ui/src/Components/ProductModal/ProductModal.jsx"],"names":["React","useEffect","useState","editJewel","postJewels","useCurrentUser","useUserJewels","useMetals","usePieces","useStones","goldStandards","silverStandards","useForm","Controller","TextField","Select","MenuItem","Dialog","DialogTitle","DialogActions","Button","InputLabel","classes","ProductModal","modalType","product","productModalActive","productModalToggle","existingJWT","metals","pieces","stones","setUserJewels","productObject","setProductObject","name","piece","_id","metal","standard","size","weight","stone","price","contactPerson","contactNumber","description","productImage","existingImages","register","formState","errors","handleSubmit","watch","control","defaultValues","subscription","value","console","log","unsubscribe","objectToFormData","obj","fd","FormData","item","key","Object","keys","append","onSubmit","jewelFormData","ex","handleDeleteImage","imgUrl","e","preventDefault","test","filter","image","cursor","required","maxLength","field","dropdown","map","length","goldStandard","id","silverStandard","marginTop","shrink","images","overflowX","index"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { editJewel, postJewels } from \"../../Services/ApiEndpoints\";\nimport useCurrentUser from \"../../Helpers/useCurrentUser\";\nimport useUserJewels from \"../../Helpers/useUserJewels\";\nimport useMetals from \"../../Helpers/useMetals\";\nimport usePieces from \"../../Helpers/usePieces\";\nimport useStones from \"../../Helpers/useStones\";\nimport goldStandards from \"../../Data/goldStandards.json\";\nimport silverStandards from \"../../Data/silverStandards.json\";\n\nimport { useForm, Controller } from \"react-hook-form\";\nimport {\n  TextField,\n  Select,\n  MenuItem,\n  Dialog,\n  DialogTitle,\n  DialogActions,\n  Button,\n  InputLabel,\n} from \"@material-ui/core\";\n\nimport classes from \"./styles.module.scss\";\n\nconst ProductModal = ({\n  modalType,\n  product,\n  productModalActive,\n  productModalToggle,\n}) => {\n  const { existingJWT } = useCurrentUser();\n  const { metals } = useMetals();\n  const { pieces } = usePieces();\n  const { stones } = useStones();\n  const { setUserJewels } = useUserJewels();\n  const [productObject, setProductObject] = useState({\n    name: product?.name || \"\",\n    piece: product?.piece._id || \"\",\n    metal: product?.metal._id || \"\",\n    standard: product?.standard || \"\",\n    size: product?.size || \"\",\n    weight: product?.weight || \"\",\n    stone: product?.stone._id || \"\",\n    price: product?.price || \"\",\n    contactPerson: product?.contactPerson || \"\",\n    contactNumber: product?.contactNumber || \"\",\n    description: product?.description || \"\",\n    productImage: {},\n    existingImages: product?.productImage || null,\n  });\n\n  const {\n    register,\n    formState: { errors },\n    handleSubmit,\n    watch,\n    control,\n  } = useForm({\n    defaultValues: {\n      name: productObject.name,\n      piece: productObject.piece,\n      metal: productObject.metal,\n      standard: productObject.standard,\n      size: productObject.size,\n      weight: productObject.weight,\n      stone: productObject.stone,\n      price: productObject.price,\n      contactPerson: productObject.contactPerson,\n      contactNumber: productObject.contactNumber,\n      productImage: \"\",\n      existingImages: productObject.existingImages,\n      description: productObject.description,\n    },\n  });\n\n  useEffect(() => {\n    const subscription = watch((value) => {\n      console.log(value);\n      return value;\n    });\n\n    return () => subscription.unsubscribe();\n  }, [watch]);\n\n  const objectToFormData = (obj) => {\n    let fd = new FormData();\n    for (let item in obj) {\n      if (item === \"productImage\") {\n        for (const key of Object.keys(obj[item])) {\n          fd.append(item, obj[item][key]);\n        }\n      } else {\n        fd.append(item, obj[item]);\n      }\n    }\n    return fd;\n  };\n\n  const onSubmit = (productObject) => {\n    try {\n      let jewelFormData = objectToFormData(productObject);\n      console.log(productObject, \"productObject\");\n      switch (modalType) {\n        case \"add\":\n          postJewels(jewelFormData, existingJWT);\n          setUserJewels();\n          productModalToggle();\n          break;\n        case \"edit\":\n          editJewel(jewelFormData, product._id, existingJWT);\n          break;\n      }\n    } catch (ex) {}\n  };\n\n  const handleDeleteImage = (imgUrl, e) => {\n    e.preventDefault();\n\n    let test = productObject.existingImages.filter((image) => image !== imgUrl);\n    setProductObject({ ...productObject, [\"existingImages\"]: test });\n  };\n\n  return (\n    <Dialog open={productModalActive} onClose={productModalToggle}>\n      <DialogTitle style={{ cursor: \"move\" }} id=\"draggable-dialog-title\">\n        პროდუქტი:\n      </DialogTitle>\n      <form onSubmit={handleSubmit(onSubmit)}>\n        <TextField\n          {...register(\"name\", { required: true, maxLength: 50 })}\n          required\n          fullWidth\n          autoFocus\n          label=\"დასახელება\"\n          name=\"name\"\n          error={errors.name ? true : false}\n          helperText={\n            errors?.name ? (\n              <span>გთხოვთ შეავსოთ სავალდებულო ველი (მაქსიმუმ 50 სიმბოლო)</span>\n            ) : null\n          }\n          size=\"small\"\n        />\n\n        <Controller\n          control={control}\n          name=\"piece\"\n          render={({ field }) => (\n            <div className={classes.dropdown}>\n              <InputLabel required>ნაკეთობა</InputLabel>\n              <Select fullWidth {...field}>\n                <MenuItem value=\"\"> </MenuItem>\n                {pieces?.map((piece) => (\n                  <MenuItem key={piece._id} value={piece._id}>\n                    {piece.name}\n                  </MenuItem>\n                ))}\n                <MenuItem value=\"სხვა\">სხვა</MenuItem>\n              </Select>\n            </div>\n          )}\n        />\n\n        {watch(\"piece\") === \"618be157a4992a8f222f09bf\" && (\n          <TextField\n            {...register(\"size\")}\n            required\n            fullWidth\n            label=\"ზომა\"\n            name=\"size\"\n            size=\"small\"\n          />\n        )}\n        <TextField\n          {...register(\"weight\")}\n          required\n          fullWidth\n          label=\"წონა\"\n          name=\"weight\"\n          size=\"small\"\n        />\n\n        <Controller\n          control={control}\n          name=\"metal\"\n          render={({ field }) => (\n            <div className={classes.dropdown}>\n              <InputLabel required>მეტალი</InputLabel>\n              <Select fullWidth {...field}>\n                <MenuItem value=\"\"> </MenuItem>\n\n                {metals?.map((metal) => (\n                  <MenuItem key={metal._id} value={metal._id}>\n                    {metal.name}\n                  </MenuItem>\n                ))}\n                <MenuItem value=\"სხვა\">სხვა</MenuItem>\n              </Select>\n            </div>\n          )}\n        />\n\n        {watch(\"metal\").length > 0 && (\n          <Controller\n            control={control}\n            name=\"standard\"\n            render={({ field }) => (\n              <div className={classes.dropdown}>\n                <InputLabel required>სინჯი</InputLabel>\n                <>\n                  {watch(\"metal\") === \"618bd992a4992a8f222f09bc\" ? (\n                    <Select fullWidth {...field}>\n                      {goldStandards.map((goldStandard) => (\n                        <MenuItem\n                          key={goldStandard.id}\n                          value={goldStandard.name}\n                        >\n                          {goldStandard.name}\n                        </MenuItem>\n                      ))}\n                    </Select>\n                  ) : (\n                    <Select fullWidth {...field}>\n                      {silverStandards.map((silverStandard) => (\n                        <MenuItem\n                          key={silverStandard.id}\n                          value={silverStandard.name}\n                        >\n                          {silverStandard.name}\n                        </MenuItem>\n                      ))}\n                    </Select>\n                  )}\n                </>\n              </div>\n            )}\n          />\n        )}\n\n        <Controller\n          control={control}\n          name=\"stone\"\n          render={({ field }) => (\n            <div className={classes.dropdown}>\n              <InputLabel required>შიგთავსი</InputLabel>\n              <Select fullWidth {...field}>\n                <MenuItem value=\"\"> </MenuItem>\n\n                {stones?.map((stone) => (\n                  <MenuItem key={stone._id} value={stone._id}>\n                    {stone.name}\n                  </MenuItem>\n                ))}\n                <MenuItem value=\"სხვა\">სხვა</MenuItem>\n              </Select>\n            </div>\n          )}\n        />\n\n        <TextField\n          {...register(\"price\", { required: true, maxLength: 50 })}\n          required\n          fullWidth\n          autoFocus\n          label=\"ფასი\"\n          name=\"price\"\n          error={errors.name ? true : false}\n          helperText={\n            errors?.price ? (\n              <span>გთხოვთ შეავსოთ სავალდებულო ველი (მაქსიმუმ 50 სიმბოლო)</span>\n            ) : null\n          }\n          size=\"small\"\n        />\n\n        <TextField\n          {...register(\"contactPerson\", {\n            required: true,\n            maxLength: 50,\n          })}\n          required\n          fullWidth\n          label=\"საკონტაქტო პირი:\"\n          name=\"contactPerson\"\n          error={errors.contactPerson ? true : false}\n          helperText={\n            errors?.contactPerson ? (\n              <span>გთხოვთ შეავსოთ სავალდებულო ველი </span>\n            ) : null\n          }\n          size=\"small\"\n        />\n\n        <TextField\n          {...register(\"contactNumber\", {\n            required: true,\n            maxLength: 50,\n          })}\n          required\n          fullWidth\n          label=\"საკონტაქტო ნომერი:\"\n          name=\"contactNumber\"\n          error={errors.contactNumber ? true : false}\n          helperText={\n            errors?.contactNumber ? (\n              <span>გთხოვთ შეავსოთ სავალდებულო ველი </span>\n            ) : null\n          }\n          size=\"small\"\n        />\n\n        <TextField\n          {...register(\"description\", { required: true, maxLength: 50 })}\n          style={{ marginTop: \"48px\" }}\n          required\n          margin=\"normal\"\n          fullWidth\n          multiline\n          maxRows={4}\n          label=\"ნივთის აღწერა\"\n          name=\"description\"\n          error={errors.description ? true : false}\n          helperText={\n            errors?.description ? (\n              <span>\n                გთხოვთ შეავსოთ სავალდებულო ველი (მაქსიმუმ 300 სიმბოლო){\" \"}\n              </span>\n            ) : null\n          }\n          size=\"small\"\n          variant=\"outlined\"\n          minRows={4}\n          InputLabelProps={{\n            shrink: true,\n          }}\n        />\n\n        <div>\n          <input\n            {...register(\"productImage\")}\n            type=\"file\"\n            name=\"productImage\"\n            accept=\"image/*\"\n            multiple\n          />\n        </div>\n\n        <div className={classes.images} style={{ overflowX: \"auto\" }}>\n          {productObject?.existingImages?.map((image, index) => {\n            return (\n              <div className=\"existingImageItem\" key={index}>\n                <input\n                  type=\"image\"\n                  width=\"200\"\n                  height=\"200\"\n                  alt=\"Product\"\n                  src={`https://ge-gold.herokuapp.com /${image}`}\n                />\n                <button\n                  onClick={(e) => handleDeleteImage(image, e)}\n                  className=\"existingItemDelete\"\n                >\n                  X\n                </button>\n              </div>\n            );\n          })}\n          {/* <input width=\"200\" height=\"200\" {...register(\"existingImages\")} type='image' src={`http://localhost:3000/${productObject.existingImages[0]}`} className={classes.images_productImages} /> */}\n        </div>\n\n        <DialogActions>\n          <Button type=\"submit\">დამატება</Button>\n          <Button onClick={productModalToggle}>გაუქმება</Button>\n        </DialogActions>\n      </form>\n    </Dialog>\n  );\n};\n\nexport default ProductModal;\n"]},"metadata":{},"sourceType":"module"}