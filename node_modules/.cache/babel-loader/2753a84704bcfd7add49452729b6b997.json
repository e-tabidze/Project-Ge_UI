{"ast":null,"code":"var _jsxFileName = \"/home/e_tabidze/Documents/Project-Ge/project-ge-ui/src/ReusableComponents/FavoriteButton/FavoriteButton.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { addUserFavProduct, removeUserFavProduct } from \"../../Services/ApiEndpoints\";\nimport FavoriteIcon from \"@mui/icons-material/Favorite\";\nimport FavoriteBorderOutlinedIcon from \"@mui/icons-material/FavoriteBorderOutlined\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst FavoriteButton = _ref => {\n  _s();\n\n  let {\n    currentUser,\n    productId,\n    userFavorites,\n    setUserFavorites\n  } = _ref;\n  const [isFavoriteProduct, setIsFavoriteProduct] = useState(false);\n  useEffect(() => {\n    if (currentUser && userFavorites !== null && userFavorites !== void 0 && userFavorites.includes(productId)) {\n      setIsFavoriteProduct(true);\n    } else {\n      setIsFavoriteProduct(false);\n    }\n  }, [userFavorites]);\n\n  const handleToggleFavorite = () => {\n    setIsFavoriteProduct(!isFavoriteProduct);\n\n    if (currentUser && userFavorites !== null && userFavorites !== void 0 && userFavorites.includes(productId)) {\n      setUserFavorites(userFavorites === null || userFavorites === void 0 ? void 0 : userFavorites.filter(p => p !== productId));\n      removeUserFavProduct(currentUser._id, productId);\n    } else {\n      setUserFavorites(prevState => [...prevState, productId]);\n      addUserFavProduct(currentUser._id, productId);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: isFavoriteProduct ? /*#__PURE__*/_jsxDEV(FavoriteIcon, {\n      style: {\n        color: \"#001e42\"\n      },\n      onClick: handleToggleFavorite\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(FavoriteBorderOutlinedIcon, {\n      style: {\n        color: \"#001e42\"\n      },\n      onClick: handleToggleFavorite\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n};\n\n_s(FavoriteButton, \"xI2Qb2+VJCaZqAxoNzn8HXkRHYE=\");\n\n_c = FavoriteButton;\nexport default FavoriteButton;\n\nvar _c;\n\n$RefreshReg$(_c, \"FavoriteButton\");","map":{"version":3,"sources":["/home/e_tabidze/Documents/Project-Ge/project-ge-ui/src/ReusableComponents/FavoriteButton/FavoriteButton.jsx"],"names":["React","useState","useEffect","addUserFavProduct","removeUserFavProduct","FavoriteIcon","FavoriteBorderOutlinedIcon","FavoriteButton","currentUser","productId","userFavorites","setUserFavorites","isFavoriteProduct","setIsFavoriteProduct","includes","handleToggleFavorite","filter","p","_id","prevState","color"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SACEC,iBADF,EAEEC,oBAFF,QAGO,6BAHP;AAIA,OAAOC,YAAP,MAAyB,8BAAzB;AACA,OAAOC,0BAAP,MAAuC,4CAAvC;;;;AAEA,MAAMC,cAAc,GAAG,QAKjB;AAAA;;AAAA,MALkB;AACtBC,IAAAA,WADsB;AAEtBC,IAAAA,SAFsB;AAGtBC,IAAAA,aAHsB;AAItBC,IAAAA;AAJsB,GAKlB;AACJ,QAAM,CAACC,iBAAD,EAAoBC,oBAApB,IAA4CZ,QAAQ,CAAC,KAAD,CAA1D;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIM,WAAW,IAAIE,aAAJ,aAAIA,aAAJ,eAAIA,aAAa,CAAEI,QAAf,CAAwBL,SAAxB,CAAnB,EAAuD;AACrDI,MAAAA,oBAAoB,CAAC,IAAD,CAApB;AACD,KAFD,MAEO;AACLA,MAAAA,oBAAoB,CAAC,KAAD,CAApB;AACD;AACF,GANQ,EAMN,CAACH,aAAD,CANM,CAAT;;AAQA,QAAMK,oBAAoB,GAAG,MAAM;AACjCF,IAAAA,oBAAoB,CAAC,CAACD,iBAAF,CAApB;;AACA,QAAIJ,WAAW,IAAIE,aAAJ,aAAIA,aAAJ,eAAIA,aAAa,CAAEI,QAAf,CAAwBL,SAAxB,CAAnB,EAAuD;AACrDE,MAAAA,gBAAgB,CAACD,aAAD,aAACA,aAAD,uBAACA,aAAa,CAAEM,MAAf,CAAuBC,CAAD,IAAOA,CAAC,KAAKR,SAAnC,CAAD,CAAhB;AACAL,MAAAA,oBAAoB,CAACI,WAAW,CAACU,GAAb,EAAkBT,SAAlB,CAApB;AACD,KAHD,MAGO;AACLE,MAAAA,gBAAgB,CAAEQ,SAAD,IAAe,CAAC,GAAGA,SAAJ,EAAeV,SAAf,CAAhB,CAAhB;AACAN,MAAAA,iBAAiB,CAACK,WAAW,CAACU,GAAb,EAAkBT,SAAlB,CAAjB;AACD;AACF,GATD;;AAWA,sBACE;AAAA,cACGG,iBAAiB,gBAChB,QAAC,YAAD;AACE,MAAA,KAAK,EAAE;AAAEQ,QAAAA,KAAK,EAAE;AAAT,OADT;AAEE,MAAA,OAAO,EAAEL;AAFX;AAAA;AAAA;AAAA;AAAA,YADgB,gBAMhB,QAAC,0BAAD;AACE,MAAA,KAAK,EAAE;AAAEK,QAAAA,KAAK,EAAE;AAAT,OADT;AAEE,MAAA,OAAO,EAAEL;AAFX;AAAA;AAAA;AAAA;AAAA;AAPJ,mBADF;AAeD,CA1CD;;GAAMR,c;;KAAAA,c;AA4CN,eAAeA,cAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  addUserFavProduct,\n  removeUserFavProduct,\n} from \"../../Services/ApiEndpoints\";\nimport FavoriteIcon from \"@mui/icons-material/Favorite\";\nimport FavoriteBorderOutlinedIcon from \"@mui/icons-material/FavoriteBorderOutlined\";\n\nconst FavoriteButton = ({\n  currentUser,\n  productId,\n  userFavorites,\n  setUserFavorites,\n}) => {\n  const [isFavoriteProduct, setIsFavoriteProduct] = useState(false);\n\n  useEffect(() => {\n    if (currentUser && userFavorites?.includes(productId)) {\n      setIsFavoriteProduct(true);\n    } else {\n      setIsFavoriteProduct(false);\n    }\n  }, [userFavorites]);\n\n  const handleToggleFavorite = () => {\n    setIsFavoriteProduct(!isFavoriteProduct);\n    if (currentUser && userFavorites?.includes(productId)) {\n      setUserFavorites(userFavorites?.filter((p) => p !== productId));\n      removeUserFavProduct(currentUser._id, productId);\n    } else {\n      setUserFavorites((prevState) => [...prevState, productId]);\n      addUserFavProduct(currentUser._id, productId);\n    }\n  };\n\n  return (\n    <>\n      {isFavoriteProduct ? (\n        <FavoriteIcon\n          style={{ color: \"#001e42\" }}\n          onClick={handleToggleFavorite}\n        />\n      ) : (\n        <FavoriteBorderOutlinedIcon\n          style={{ color: \"#001e42\" }}\n          onClick={handleToggleFavorite}\n        />\n      )}\n    </>\n  );\n};\n\nexport default FavoriteButton;\n"]},"metadata":{},"sourceType":"module"}